<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/userWallet.css">
    <link rel="stylesheet" href="../css/titleCurrency.css">
    <link rel="stylesheet" href="../css/userPage.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384- +0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
        crossorigin="anonymous"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="../css/reset.css">
    <link rel="stylesheet" href="../css/wallet.css">
    <link rel="stylesheet" href="../css/formCard.css">
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="../script/wallet.js" defer></script>
    <script src="../script/autofillcard.js" defer></script>
    <script src="../script/darkmode.js" defer></script>
    <link rel="shortcut icon" href="../img/logo-transparente.png" type="image/x-icon">
    <title>Flamingle</title>
</head>

<body style="color: #0E2431;">
    <main class="cd-main d-block" style="height: 130vh;">
        <div class="profile-page d-flex justify-content-center mymain" style=" height: 130vh; margin-top: 100px;">
            <div class="content">
                <div class="resize-me" style="height: 100%;">
                    <div class="content-cover position-relative">
                        <div class=" mb-3 d-flex justify-content-center">
                            <form action="" method="post" enctype="multipart/form-data">
                                <input type="file" id="flImage" name="foto" accept="image/*" style="display: none;">
                                <img onclick="clickphoto()" name="photo" class="content-avatar" id="imgPhoto"
                                src="<%= photo%>" alt="">
                        </div>
                        </form>
                        <div class="content-bull"><span></span><span></span><span></span><span></span><span></span>
                        </div>
                    </div>
                    <div class="content-title">
                        <div class="accountname-container" style="margin-top: 130px;">
                            <h1><%= db_name%></h1>
                            <a data-bs-toggle="modal" data-bs-target="#exampleModalUser" id="configbtn" style="height: fit-content;">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" style="fill: var(--light-pink);"><path d="M12 16c2.206 0 4-1.794 4-4s-1.794-4-4-4-4 1.794-4 4 1.794 4 4 4zm0-6c1.084 0 2 .916 2 2s-.916 2-2 2-2-.916-2-2 .916-2 2-2z"></path><path d="m2.845 16.136 1 1.73c.531.917 1.809 1.261 2.73.73l.529-.306A8.1 8.1 0 0 0 9 19.402V20c0 1.103.897 2 2 2h2c1.103 0 2-.897 2-2v-.598a8.132 8.132 0 0 0 1.896-1.111l.529.306c.923.53 2.198.188 2.731-.731l.999-1.729a2.001 2.001 0 0 0-.731-2.732l-.505-.292a7.718 7.718 0 0 0 0-2.224l.505-.292a2.002 2.002 0 0 0 .731-2.732l-.999-1.729c-.531-.92-1.808-1.265-2.731-.732l-.529.306A8.1 8.1 0 0 0 15 4.598V4c0-1.103-.897-2-2-2h-2c-1.103 0-2 .897-2 2v.598a8.132 8.132 0 0 0-1.896 1.111l-.529-.306c-.924-.531-2.2-.187-2.731.732l-.999 1.729a2.001 2.001 0 0 0 .731 2.732l.505.292a7.683 7.683 0 0 0 0 2.223l-.505.292a2.003 2.003 0 0 0-.731 2.733zm3.326-2.758A5.703 5.703 0 0 1 6 12c0-.462.058-.926.17-1.378a.999.999 0 0 0-.47-1.108l-1.123-.65.998-1.729 1.145.662a.997.997 0 0 0 1.188-.142 6.071 6.071 0 0 1 2.384-1.399A1 1 0 0 0 11 5.3V4h2v1.3a1 1 0 0 0 .708.956 6.083 6.083 0 0 1 2.384 1.399.999.999 0 0 0 1.188.142l1.144-.661 1 1.729-1.124.649a1 1 0 0 0-.47 1.108c.112.452.17.916.17 1.378 0 .461-.058.925-.171 1.378a1 1 0 0 0 .471 1.108l1.123.649-.998 1.729-1.145-.661a.996.996 0 0 0-1.188.142 6.071 6.071 0 0 1-2.384 1.399A1 1 0 0 0 13 18.7l.002 1.3H11v-1.3a1 1 0 0 0-.708-.956 6.083 6.083 0 0 1-2.384-1.399.992.992 0 0 0-1.188-.141l-1.144.662-1-1.729 1.124-.651a1 1 0 0 0 .471-1.108z"></path></svg>
                            </a>
                        </div>
                        <span><%= cpf%></span>
                    </div>
                    <div class="content-description">
                        <p><%= email%></p>
                        <p><%= birth%></p >
                    </div>
                    <div class="buttons-views gap-3">
                        <a class="menuballoon" href="/userpagewallet" title="Wallet">
                            <div class="" id="balloon">
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24"
                                style="fill: rgba(0, 0, 0, 1);">
                                <circle cx="15.5" cy="13.5" r="2.5"></circle>
                                <path
                                    d="M12 13.5c0-.815.396-1.532 1-1.988A2.47 2.47 0 0 0 11.5 11a2.5 2.5 0 1 0 0 5 2.47 2.47 0 0 0 1.5-.512 2.486 2.486 0 0 1-1-1.988z">
                                </path>
                                <path
                                    d="M20 4H4c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V6c0-1.103-.897-2-2-2zM4 18V6h16l.002 12H4z">
                                </path>
                            </svg>
                        </a>
                        <a class="menuballoon" href="/userpageconvert" title="currentConvert">
                            <div class="" id="balloon">
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="350" height="35" viewBox="0 0 24 24"
                                style="fill: rgb(0, 0, 0, 1);">
                                <path
                                    d="M12 6C7.03 6 2 7.546 2 10.5v4C2 17.454 7.03 19 12 19s10-1.546 10-4.5v-4C22 7.546 16.97 6 12 6zm-8 8.5v-1.197a9.989 9.989 0 0 0 2 .86v1.881c-1.312-.514-2-1.126-2-1.544zm12 .148v1.971c-.867.179-1.867.31-3 .358v-2a21.75 21.75 0 0 0 3-.329zm-5 2.33a18.788 18.788 0 0 1-3-.358v-1.971c.959.174 1.972.287 3 .33v1.999zm7-.934v-1.881a9.931 9.931 0 0 0 2-.86V14.5c0 .418-.687 1.03-2 1.544zM12 13c-5.177 0-8-1.651-8-2.5S6.823 8 12 8s8 1.651 8 2.5-2.823 2.5-8 2.5z">
                                </path>
                            </svg>
                        </a>
                        <a data-bs-toggle="modal" data-bs-target="#exampleModal">
                            <div class="" id="balloon">
                            </div>
                            <svg xmlns="http://www.w3.org/2000/svg" width="35" height="35" viewBox="0 0 24 24" style="fill: rgba(0, 0, 0, 1);"><path d="M19 11h-6V5h-2v6H5v2h6v6h2v-6h6z"></path></svg>
                        </a>
                    </div>
                    <section id="wallet" class="d-flex justify-content-center align-items-center flex-column">
                        <h1>Carteira</h1>
                        <p><%= message%></p>
                        <div class="swiper mySwiper">
                            <div class="swiper-wrapper">
                                <%for(i = 0; i < cards.length; i++) {%>
                                    <div class="swiper-slide">
                                        <div class="card-container">
                                        <img src="<%= cards[i].File_path%>" alt="">
                                        <div class="carddata-container">
                                            <div class="data">
                                                <p class="label-cardsec">Number</p>
                                                <p id="cardnumber-display" class="value"><%= cards[i].Number%></p>
                                            </div>
                                            <div class="data">
                                                <p class="label-cardsec">Name</p>
                                                <p class="value"><%= cards[i].Name%></p>
                                            </div>
                                            <div class="data">
                                                <p class="label-cardsec">Exp Date</p>
                                                <p id="expdate-display" class="value"><%= cards[i].VE%></p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <%}%>
                        </div>
                    </div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-pagination"></div>
                </div>
            </section>
            </div>
            <div class="bg">
                <div><img src="../img/profilebg.png" style="width: 100%;">
                </div>
                <div class="justify-content-start align-items-start p-4" style="color: rgb(255, 255, 255); cursor: pointer;"><a href="/userpage" style=" font-weight: 700; font-size: 25px; color: white; text-decoration: none;">Flamingle</a></div>
                <div class="d-flex justify-content-end align-items-start p-4 gap-3" style="width: 100%; z-index: 999; cursor: pointer;">
                    <svg id="moon" style=" cursor: pointer; " xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" style="fill: #FFF;"><path d="M20.742 13.045a8.088 8.088 0 0 1-2.077.271c-2.135 0-4.14-.83-5.646-2.336a8.025 8.025 0 0 1-2.064-7.723A1 1 0 0 0 9.73 2.034a10.014 10.014 0 0 0-4.489 2.582c-3.898 3.898-3.898 10.243 0 14.143a9.937 9.937 0 0 0 7.072 2.93 9.93 9.93 0 0 0 7.07-2.929 10.007 10.007 0 0 0 2.583-4.491 1.001 1.001 0 0 0-1.224-1.224zm-2.772 4.301a7.947 7.947 0 0 1-5.656 2.343 7.953 7.953 0 0 1-5.658-2.344c-3.118-3.119-3.118-8.195 0-11.314a7.923 7.923 0 0 1 2.06-1.483 10.027 10.027 0 0 0 2.89 7.848 9.972 9.972 0 0 0 7.848 2.891 8.036 8.036 0 0 1-1.484 2.059z"></path></svg>
                    <svg id="sun" style=" cursor: pointer; display: none" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" style="fill: #FFF;"><path d="M6.993 12c0 2.761 2.246 5.007 5.007 5.007s5.007-2.246 5.007-5.007S14.761 6.993 12 6.993 6.993 9.239 6.993 12zM12 8.993c1.658 0 3.007 1.349 3.007 3.007S13.658 15.007 12 15.007 8.993 13.658 8.993 12 10.342 8.993 12 8.993zM10.998 19h2v3h-2zm0-17h2v3h-2zm-9 9h3v2h-3zm17 0h3v2h-3zM4.219 18.363l2.12-2.122 1.415 1.414-2.12 2.122zM16.24 6.344l2.122-2.122 1.414 1.414-2.122 2.122zM6.342 7.759 4.22 5.637l1.415-1.414 2.12 2.122zm13.434 10.605-1.414 1.414-2.122-2.122 1.414-1.414z"></path></svg>        
                    <a href="">
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" style="fill: rgb(255, 255, 255);"><path d="M16 13v-2H7V8l-5 4 5 4v-3z"></path><path d="M20 3h-9c-1.103 0-2 .897-2 2v4h2V5h9v14h-9v-4H9v4c0 1.103.897 2 2 2h9c1.103 0 2-.897 2-2V5c0-1.103-.897-2-2-2z"></path></svg>
                    </a>
                </div>
            </div>
        </div>
        <div class="modal modalcard fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="exampleModalLabel">Criar Cartão</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="form-user" action="/userpagewallet" method="post">
                        <input id="cardnumber-input" type="text" name="cardnumber" maxlength="19" required>
                        <span class="label">Número do Cartão</span>
        
                        <input id="username-input" type="text" name="name" required>
                        <span class="label">Nome Completo</span>
        
                        <input id="expdate-input" type="text" name="expdate" maxlength="5" required>
                        <span class="label">Validade</span>

                        <input id="cvv-input" type="text" name="cvv" maxlength="3" required>
                        <span class="label">CVV</span>
                        
                        <input id="bank-input" type="text" name="bankcode" maxlength="3" required>
                        <span class="label">Código do Banco</span>

                        <div class="agreements">
                        <div class="checkbox">
                            <input type="checkbox" required>
                            <label for="">Eu li e concordo com os <a href="">termos de uso</a> do site.</label>
                        </div>
                        </div>
                        <div class="modal-footer">
                          <input type="submit" id="register-submitbtn">
                        </div>
                    </form>
                </div>
              </div>
            </div>
          </div>
          <div class="modal modaluser fade" id="exampleModalUser" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
                <div class="modal-header">
                  <h1 class="modal-title fs-5" id="exampleModalLabel">Editar Informações</h1>
                  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="form-user" action="/userpagealter" method="post">
                        <input id="number-input" type="text" name="name" maxlength="16" required >
                        <span class="label">Nome Completo</span>
        
                        <input id="useremail-input" type="email" name="email" required >
                        <span class="label">Email</span>

                        <input id="userphone-input" type="text" name="phone" maxlength="14" required >
                        <span class="label">Telefone</span>

                        <input id="userpassword-input" type="password" name="password" required >
                        <span class="label">Senha</span>

                        <div class="agreements">
                          <div class="checkbox">
                              <input type="checkbox" required>
                              <label for="">Eu li e concordo com os <a href="">termos de uso</a> do site.</label>
                          </div>
                        </div>
                        <input type="submit" id="register-submitbtn" name="update" value="Atualizar">
                    </form>
                    <form action="/userpagedelete" method="post">
                        <input type="submit" id="delete-btn" name="delete" value="Excluir Conta">
                    </form>
                </div>
              </div>
            </div>
          </div>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    
    <script>
        var swiper = new Swiper(".mySwiper", {
            slidesPerView: 1,
        spaceBetween: 30,
        loop: true,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },
      });
    </script>
</body>
</html>